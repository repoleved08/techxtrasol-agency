@tailwind base;
@tailwind components;
@tailwind utilities;

body,
html {
    --font-sans:
        'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;

    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;

    --primary: 346.8 77.2% 49.8%;
    --primary-foreground: 355.7 100% 97.3%;

    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;

    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;

    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 346.8 77.2% 49.8%;
    --radius: 0.5rem;

    /* Chart colors */
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;

    /* Sidebar colors */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 240 10% 3.9%;
    --sidebar-primary: 346.8 77.2% 49.8%;
    --sidebar-primary-foreground: 355.7 100% 97.3%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 240 5.9% 90%;
    --sidebar-ring: 346.8 77.2% 49.8%;
  }

  .dark {
    /* Softer, warmer dark theme - main backgrounds */
    --background: 222 15% 8%;        /* Soft dark blue-gray instead of harsh black */
    --foreground: 210 20% 92%;       /* Warm white with slight blue tint */

    /* Card backgrounds - slightly lighter than main background */
    --card: 220 13% 12%;             /* Subtle elevation with warm undertones */
    --card-foreground: 210 15% 90%;  /* Softer white for better readability */

    /* Popover styling */
    --popover: 218 15% 10%;          /* Slightly different from cards for depth */
    --popover-foreground: 210 15% 90%;

    /* Keep primary color vibrant for brand consistency */
    --primary: 346.8 77.2% 49.8%;
    --primary-foreground: 355.7 100% 97.3%;

    /* Secondary elements with warmer tones */
    --secondary: 215 15% 18%;        /* Warmer secondary background */
    --secondary-foreground: 210 12% 88%;

    /* Muted elements - softer contrast */
    --muted: 216 12% 16%;            /* Less harsh muted background */
    --muted-foreground: 215 10% 65%; /* Better contrast for accessibility */

    /* Accent colors with subtle warmth */
    --accent: 218 12% 15%;           /* Soft accent background */
    --accent-foreground: 210 15% 90%;

    /* Error states */
    --destructive: 0 65% 45%;        /* Softer red for dark theme */
    --destructive-foreground: 0 85% 97%;

    /* Borders and inputs - subtle but visible */
    --border: 215 12% 20%;           /* Warmer border color */
    --input: 215 12% 18%;            /* Input background slightly different */
    --ring: 346.8 77.2% 49.8%;      /* Keep primary ring color */

    /* Enhanced chart colors for dark theme */
    --chart-1: 210 75% 60%;          /* Softer blue */
    --chart-2: 165 55% 50%;          /* Warmer teal */
    --chart-3: 35 75% 60%;           /* Warmer orange */
    --chart-4: 275 60% 65%;          /* Softer purple */
    --chart-5: 340 70% 60%;          /* Balanced pink */

    /* Sidebar colors matching the softer theme */
    --sidebar-background: 222 15% 8%;
    --sidebar-foreground: 210 20% 92%;
    --sidebar-primary: 346.8 77.2% 49.8%;
    --sidebar-primary-foreground: 355.7 100% 97.3%;
    --sidebar-accent: 218 12% 15%;
    --sidebar-accent-foreground: 210 15% 90%;
    --sidebar-border: 215 12% 20%;
    --sidebar-ring: 346.8 77.2% 49.8%;
  }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        /* Smooth transitions for theme switching */
        transition: background-color 0.3s ease, color 0.3s ease;
    }
}

/* Additional enhancements for the softer dark theme */
@layer components {
  .dark {
    /* Subtle gradient overlay for depth without performance impact */
    .gradient-overlay {
      background: linear-gradient(
        135deg,
        hsl(var(--background)) 0%,
        hsl(222 15% 9%) 100%
      );
    }

    /* Enhanced glass morphism effect */
    .glass-effect {
      background: hsl(var(--card) / 0.8);
      backdrop-filter: blur(12px);
      border: 1px solid hsl(var(--border) / 0.5);
    }

    /* Soft glow effects for interactive elements */
    .soft-glow:hover {
      box-shadow: 0 0 20px hsl(var(--primary) / 0.1);
    }

    /* Enhanced focus states */
    .enhanced-focus:focus-visible {
      outline: 2px solid hsl(var(--primary) / 0.8);
      outline-offset: 2px;
      box-shadow: 0 0 0 4px hsl(var(--primary) / 0.1);
    }
  }

  /* Smooth scrollbar styling for dark theme */
  .dark ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .dark ::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  .dark ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
    transition: background-color 0.2s ease;
  }

  .dark ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  /* Selection styling */
  .dark ::selection {
    background: hsl(var(--primary) / 0.2);
    color: hsl(var(--foreground));
  }
}

/* Performance-optimized animations */
@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.6s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .animate-fade-in,
    .animate-slide-up {
      animation: none;
    }

    * {
      transition: none !important;
    }
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .dark {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --border: 0 0% 50%;
    --muted-foreground: 0 0% 70%;
  }
}

/* Color scheme preference detection */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    color-scheme: dark;
  }
}
